# =============================================================================
# Financial IDR Pipeline Configuration
# =============================================================================

# Project Settings
project:
  name: "Financial IDR Pipeline"
  version: "1.0.0"
  author: "Rajesh Kumar Gupta"
  description: "Intelligent Document Recognition for Financial Documents"

# Data Sources Configuration
data_sources:
  sec_edgar:
    enabled: true
    base_url: "https://www.sec.gov/cgi-bin/browse-edgar"
    api_url: "https://data.sec.gov"
    user_agent: "SemanticDataServices/1.0 (contact@semanticdataservices.com)"
    rate_limit: 10  # requests per second
    filing_types:
      - "10-K"
      - "10-Q"
      - "8-K"
    
  fred:
    enabled: true
    base_url: "https://api.stlouisfed.org/fred"
    api_key: "${FRED_API_KEY}"  # Set via environment variable
    series:
      gdp: "GDP"
      unemployment: "UNRATE"
      inflation: "CPIAUCSL"
      fed_funds_rate: "FEDFUNDS"
      consumer_confidence: "UMCSENT"
      pmi: "MANEMP"
      
  yahoo_finance:
    enabled: true
    base_url: "https://query1.finance.yahoo.com/v10/finance"

# Target Companies (by sector)
companies:
  technology:
    - ticker: "AAPL"
      name: "Apple Inc."
      cik: "0000320193"
    - ticker: "MSFT"
      name: "Microsoft Corporation"
      cik: "0000789019"
    - ticker: "GOOGL"
      name: "Alphabet Inc."
      cik: "0001652044"
      
  healthcare:
    - ticker: "JNJ"
      name: "Johnson & Johnson"
      cik: "0000200406"
    - ticker: "PFE"
      name: "Pfizer Inc."
      cik: "0000078003"
      
  financial:
    - ticker: "JPM"
      name: "JPMorgan Chase & Co."
      cik: "0000019617"
    - ticker: "GS"
      name: "The Goldman Sachs Group, Inc."
      cik: "0000886982"
      
  consumer:
    - ticker: "WMT"
      name: "Walmart Inc."
      cik: "0000104169"
    - ticker: "KO"
      name: "The Coca-Cola Company"
      cik: "0000021344"
      
  energy:
    - ticker: "XOM"
      name: "Exxon Mobil Corporation"
      cik: "0000034088"

# IDR Pipeline Configuration
idr:
  document_classifier:
    model: "rule_based"  # Options: rule_based, bert, custom
    confidence_threshold: 0.7
    
  entity_extractor:
    model: "hybrid"  # Options: spacy, transformers, hybrid
    spacy_model: "en_core_web_lg"
    transformer_model: "dslim/bert-base-NER"
    confidence_threshold: 0.75
    batch_size: 32
    
  relation_extractor:
    model: "dependency_parsing"  # Options: dependency_parsing, transformer
    max_sentence_length: 512
    
  ontology_mapper:
    ontology_path: "ontology/financial_ontology.ttl"
    strict_mapping: false
    fuzzy_threshold: 0.85

# Knowledge Graph Configuration
knowledge_graph:
  backend: "neo4j"  # Options: neo4j, neptune, networkx
  
  neo4j:
    uri: "bolt://localhost:7687"
    user: "neo4j"
    password: "${NEO4J_PASSWORD}"
    database: "financial_idr"
    
  batch_size: 1000
  create_indexes: true
  
# GraphRAG Configuration
graphrag:
  llm_provider: "openai"  # Options: openai, anthropic, local
  model: "gpt-4"
  embedding_model: "text-embedding-3-small"
  temperature: 0.1
  max_tokens: 2000
  
  retrieval:
    top_k: 10
    similarity_threshold: 0.7
    include_neighbors: true
    max_depth: 2

# Processing Configuration
processing:
  chunk_size: 1000
  chunk_overlap: 200
  max_workers: 4
  timeout: 300
  
  pdf:
    extract_tables: true
    ocr_enabled: false
    
  text:
    normalize: true
    remove_boilerplate: true
    section_detection: true

# Output Configuration
output:
  data_dir: "data"
  raw_dir: "data/raw"
  processed_dir: "data/processed"
  graphs_dir: "data/graphs"
  reports_dir: "data/reports"
  
  formats:
    - json
    - csv
    - rdf

# Logging Configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  file: "logs/financial_idr.log"
  max_size: 10485760  # 10MB
  backup_count: 5
